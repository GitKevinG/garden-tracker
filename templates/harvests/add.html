{% extends "base.html" %}
{% block title %}Record Harvest{% endblock %}
{% block content %}
<h1>Record Harvest</h1>
<div class="card">
    <form method="POST">
        <div class="form-group">
            <label>Plant *</label>
            <select name="plant_id" required>
                <option value="">Select plant...</option>
                {% for plant in plants %}
                <option value="{{ plant.id }}">{{ plant.plant_name or plant.seed_variety.variety_name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="grid grid-2">
            <div class="form-group">
                <label>Harvest Date *</label>
                <input type="date" name="harvest_date" required>
            </div>
            <div class="form-group">
                <label>Quality (1-10)</label>
                <input type="number" name="quality_rating" min="1" max="10">
            </div>
        </div>
        <div class="grid grid-2">
            <div class="form-group">
                <label>Amount *</label>
                <input type="number" name="amount" step="0.1" min="0" required>
            </div>
            <div class="form-group">
                <label>Unit *</label>
                <select name="unit" required>
                    <option value="oz">Ounces</option>
                    <option value="lbs">Pounds</option>
                    <option value="count">Count</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label>Notes</label>
            <textarea name="notes"></textarea>
        </div>
        <button type="submit" class="btn">Record Harvest</button>
    </form>
</div>
<script>
    document.querySelector('[name="harvest_date"]').valueAsDate = new Date();
</script>
{% endblock %}
